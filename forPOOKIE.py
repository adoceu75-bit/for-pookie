# -*- coding: utf-8 -*-
"""for pookie.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1C5UeXAU1g3h_8Ib4AClpTcgNK_9PBlzm
"""

import streamlit as st

st.title("💞 Programa do Amor 💞")

# Entrada do nome
pessoa = st.text_input("Insira seu nome:")

# Inicializa variáveis persistentes
if "contador" not in st.session_state:
    st.session_state.contador = 0
if "historico" not in st.session_state:
    st.session_state.historico = []
if "ativo" not in st.session_state:
    st.session_state.ativo = False
if "parar" not in st.session_state:
    st.session_state.parar = False

# Quando o nome for um dos especiais
if pessoa in ["Pookie", "Maria Júlia", "Maria"]:
    st.success("Eu te amo 💕")
    st.session_state.ativo = True

# Enquanto estiver ativo e ainda não for “parar”
if st.session_state.ativo and not st.session_state.parar:

    # A pergunta continua aparecendo
    st.markdown("### 💌 Você deseja que eu continue te amando? (responde com SIM ou NAO):")

    col1, col2 = st.columns(2)

    with col1:
        if st.button("💖 SIM"):
            st.session_state.contador += 1
            st.session_state.historico.append(f"{st.session_state.contador}️⃣ Eu te amo 💖")

            # Após 4 vezes, exibe mensagem final
            if st.session_state.contador >= 4:
                st.session_state.historico.append("EU VOU TE AMAR PRA SEMPRE 💘")
                st.session_state.parar = True
                st.balloons()

    with col2:
        if st.button("💔 NAO"):
            st.session_state.historico.append("Ok, mas eu continuo te amando 😘")
            st.session_state.parar = True

# Exibe histórico de respostas (simula repetição)
if st.session_state.historico:
    st.markdown("### ❤️ Histórico do nosso amor:")
    for mensagem in st.session_state.historico:
        st.write(mensagem)

# Se não for uma pessoa especial
elif pessoa:
    st.write("Sai de perto 😠")
